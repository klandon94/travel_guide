{% extends 'travel/index.html' %}

{% block title %} Login/Registration {%endblock%}

{% block login %}

<h1 id='header'>Login and Registration</h1>

{% if messages %}
    {% for message in messages %}
        {% if message.extra_tags == 'logout' %}
            <p class="{{message.tags}}" style='margin-left:75px'>{{message}}</p>
        {% endif %}
    {% endfor %}
{% endif %}

<div id='container'>
    <div id='register'>
        <h3>Register here!</h3>
        <form action="/register" method='post'>
            {% csrf_token %}
            <div class="form-group">                
                <label for="first_name">First Name:</label>
                <br>
                {% if messages %}
                    {% for message in messages %}
                        {% if message.extra_tags == 'first_name' %}
                            <p class="{{message.tags}}">{{message}}</p>
                        {% endif %}
                    {% endfor %}
                {% endif %}
                <input type="text" name='first_name' value='{{request.session.first_name}}' class="form-control" id="first_name" placeholder="First Name">
            </div>
            <div class="form-group">                
                <label for="last_name">Last Name:</label>
                <br>
                {% if messages %}
                    {% for message in messages %}
                        {% if message.extra_tags == 'last_name' %}
                            <p class="{{message.tags}}">{{message}}</p>
                        {% endif %}
                    {% endfor %}
                {% endif %}
                <input type="text" name='last_name' value='{{request.session.last_name}}' class="form-control" id="last_name" placeholder="Last Name">
            </div>
            <div class="form-group">
                <label for="Username">Username:</label>                
                <br>       
                {% if messages %}
                    {% for message in messages %}
                        {% if message.extra_tags == 'username' %}
                            <p class="{{message.tags}}">{{message}}</p>
                        {% endif %}
                    {% endfor %}
                {% endif %}       
                <input type="text" name='username' value='{{request.session.username}}' class="form-control" id="Username" placeholder="Username">
            </div>
            <div class="form-group">
                <label for="Password">Password:</label>                
                <br> 
                {% if messages %}
                    {% for message in messages %}
                        {% if message.extra_tags == 'password' %}
                            <p class="{{message.tags}}">{{message}}</p>
                        {% endif %}
                    {% endfor %}
                {% endif %}             
                <input type="password" name='password' class="form-control" id="Password" placeholder="Password">
            </div>
            <div class="form-group">
                <label for="Confirm_Password">Confirm PW:</label>                
                <br>
                {% if messages %}
                    {% for message in messages %}
                        {% if message.extra_tags == 'confirm_password' %}
                            <p class="{{message.tags}}">{{message}}</p>
                        {% endif %}
                    {% endfor %}
                {% endif %}
                <input type="password" name='confirm_password' class="form-control" id="Confirm_Password" placeholder="Confirm password">
            </div>
            <button type="submit" value='Register' class='btn btn-success'>Register!</button>
        </form>
    </div>
    <div id='login'>
        <h3>Login here!</h3>
        {% if messages %}
            {% for message in messages %}
                {% if message.extra_tags == 'login' %}
                    <p class="{{message.tags}}">{{message}}</p>
                {% endif %}
            {% endfor %}
        {% endif %}         
        <form action="/login" method='post'>
            {% csrf_token %}
            <div class="form-group">
                <label for="LUsername">Username:</label>
                <input type="text" name='login_username' value='{{request.session.login_username}}' class="form-control" id="LUsername" placeholder="Username">
            </div>
            <div class="form-group">
                <label for="LPassword">Password:</label>
                <input type="password" name='login_password' class="form-control" id="LPassword" placeholder="Password">
            </div>
            <button type="submit" value='Login' class='btn btn-success'>Login!</button>
        </form>
    </div>
</div>
{% endblock %}